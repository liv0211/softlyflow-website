<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Sanctuary - Your Healing Space</title>
    <meta name="description" content="A calm, minimalist sanctuary for stress relief, mindfulness, and emotional comfort">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #e8f5e8 0%, #f0e8ff 50%, #ffe8e8 100%);
            min-height: 100vh;
            color: #2d3748;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* Container & Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px 0;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 300;
            color: #4a5568;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1rem;
            color: #718096;
        }
        
        /* Navigation */
        .nav {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            padding: 12px 24px;
            font-size: 0.9rem;
            font-weight: 500;
            color: #4a5568;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .nav-btn:hover, .nav-btn.active {
            background: rgba(255, 255, 255, 0.95);
            border-color: #a0aec0;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        /* Section Styles */
        .section {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: none;
        }
        
        .section.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section h2 {
            font-size: 1.8rem;
            font-weight: 500;
            color: #2d3748;
            margin-bottom: 20px;
            text-align: center;
        }
        
        /* Quote Section */
        .quote-container {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .quote {
            font-size: 1.4rem;
            font-weight: 300;
            color: #4a5568;
            margin-bottom: 20px;
            line-height: 1.8;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .new-quote-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 15px 30px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .new-quote-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }
        
        .new-quote-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        /* Timer Section */
        .timer-container {
            text-align: center;
        }
        
        .timer-display {
            font-size: 4rem;
            font-weight: 300;
            color: #4a5568;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }
        
        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .timer-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #e2e8f0;
            border-radius: 20px;
            padding: 12px 24px;
            font-size: 0.9rem;
            font-weight: 500;
            color: #4a5568;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .timer-btn:hover {
            background: white;
            border-color: #cbd5e0;
            transform: translateY(-2px);
        }
        
        .timer-btn.primary {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            border-color: #48bb78;
        }
        
        .breathing-circle {
            width: 200px;
            height: 200px;
            border: 3px solid #e2e8f0;
            border-radius: 50%;
            margin: 0 auto;
            position: relative;
            animation: breathe 12s infinite ease-in-out;
        }
        
        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            33% { transform: scale(1.3); }
            66% { transform: scale(0.8); }
        }
        
        .breathing-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2rem;
            font-weight: 500;
            color: #4a5568;
        }
        
        /* Mystic Zone */
        .mystic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .mystic-card {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.4);
        }
        
        .mystic-card h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #2d3748;
        }
        
        .tarot-image {
            width: 120px;
            height: 180px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
        }
        
        .mystic-btn {
            background: linear-gradient(135deg, #9f7aea 0%, #805ad5 100%);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .mystic-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(159, 122, 234, 0.3);
        }
        
        /* Games Section */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .game-container {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }
        
        .bubble-game {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #e6fffa 0%, #b2f5ea 100%);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .bubble {
            position: absolute;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.3) 100%);
            border-radius: 50%;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .sand-canvas {
            width: 100%;
            height: 200px;
            background: #f7fafc;
            border-radius: 10px;
            cursor: crosshair;
            border: 2px solid #e2e8f0;
        }
        
        .game-score {
            margin-top: 15px;
            font-size: 1.1rem;
            font-weight: 500;
            color: #4a5568;
        }
        
        /* Psychology Section */
        .mood-quiz {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .mood-question {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #2d3748;
        }
        
        .mood-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .mood-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .mood-option:hover {
            background: rgba(255, 255, 255, 0.8);
            transform: translateX(5px);
        }
        
        .mood-option input[type="radio"] {
            width: 18px;
            height: 18px;
            accent-color: #667eea;
        }
        
        .mood-result {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }
        
        /* Breathing Exercise */
        .breathing-container {
            text-align: center;
        }
        
        .breathing-instructions {
            font-size: 1.1rem;
            color: #4a5568;
            margin-bottom: 30px;
        }
        
        .breathing-animation {
            width: 150px;
            height: 150px;
            border: 4px solid #e2e8f0;
            border-radius: 50%;
            margin: 0 auto 20px;
            position: relative;
            animation: breathingCycle 12s infinite ease-in-out;
        }
        
        @keyframes breathingCycle {
            0%, 100% { transform: scale(1); border-color: #48bb78; }
            25% { transform: scale(1.4); border-color: #4299e1; }
            50% { transform: scale(1.2); border-color: #ed8936; }
            75% { transform: scale(0.8); border-color: #e53e3e; }
        }
        
        .breathing-step {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.1rem;
            font-weight: 500;
            color: #4a5568;
        }
        
        /* Journal Section */
        .journal-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .journal-textarea {
            width: 100%;
            height: 150px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            resize: vertical;
            background: rgba(255, 255, 255, 0.8);
            transition: border-color 0.3s ease;
        }
        
        .journal-textarea:focus {
            outline: none;
            border-color: #667eea;
            background: white;
        }
        
        .journal-controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .journal-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 12px 24px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .journal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }
        
        .journal-entries {
            margin-top: 30px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .journal-entry {
            background: rgba(255, 255, 255, 0.6);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }
        
        .journal-date {
            font-size: 0.8rem;
            color: #718096;
            margin-bottom: 8px;
        }
        
        .journal-content {
            color: #2d3748;
            line-height: 1.6;
        }
        
        /* Nature Sounds */
        .sounds-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .sound-item {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }
        
        .sound-item h4 {
            margin-bottom: 15px;
            color: #2d3748;
        }
        
        .sound-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .sound-toggle {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .sound-toggle.playing {
            background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
        }
        
        .volume-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #e2e8f0;
            outline: none;
            -webkit-appearance: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 0;
            color: #718096;
            font-size: 0.9rem;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .nav {
                gap: 10px;
            }
            
            .nav-btn {
                padding: 10px 20px;
                font-size: 0.8rem;
            }
            
            .section {
                padding: 20px;
            }
            
            .timer-display {
                font-size: 3rem;
            }
            
            .breathing-circle {
                width: 150px;
                height: 150px;
            }
            
            .breathing-animation {
                width: 120px;
                height: 120px;
            }
        }
        
        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Digital Sanctuary</h1>
            <p>Your healing space for peace and mindfulness</p>
        </div>
        
        <!-- Navigation -->
        <div class="nav">
            <button class="nav-btn active" data-section="quote">Daily Zen</button>
            <button class="nav-btn" data-section="timer">Relaxation Timer</button>
            <button class="nav-btn" data-section="mystic">Mystic Zone</button>
            <button class="nav-btn" data-section="games">Stress Relief</button>
            <button class="nav-btn" data-section="psychology">Psychology</button>
            <button class="nav-btn" data-section="breathing">Breathing</button>
            <button class="nav-btn" data-section="journal">Journal</button>
            <button class="nav-btn" data-section="sounds">Nature Sounds</button>
        </div>
        
        <!-- Quote Section -->
        <div id="quote" class="section active">
            <h2>Daily Zen Quote</h2>
            <div class="quote-container">
                <div class="quote" id="quote-text">Loading your daily inspiration...</div>
                <button class="new-quote-btn" id="new-quote-btn">
                    <span class="btn-text">New Quote</span>
                    <span class="loading" style="display: none;"></span>
                </button>
            </div>
        </div>
        
        <!-- Timer Section -->
        <div id="timer" class="section">
            <h2>Relaxation Timer</h2>
            <div class="timer-container">
                <div class="timer-display" id="timer-display">25:00</div>
                <div class="timer-controls">
                    <button class="timer-btn primary" id="start-timer">Start</button>
                    <button class="timer-btn" id="pause-timer">Pause</button>
                    <button class="timer-btn" id="reset-timer">Reset</button>
                </div>
                <div class="breathing-circle">
                    <div class="breathing-text">Breathe</div>
                </div>
            </div>
        </div>
        
        <!-- Mystic Zone -->
        <div id="mystic" class="section">
            <h2>Mystic Zone</h2>
            <div class="mystic-grid">
                <div class="mystic-card">
                    <h3>Tarot Card</h3>
                    <div class="tarot-image" id="tarot-image">
                        Click to reveal
                    </div>
                    <button class="mystic-btn" id="new-tarot">New Card</button>
                </div>
                
                <div class="mystic-card">
                    <h3>Fortune Cookie</h3>
                    <p id="fortune-text">Your fortune awaits...</p>
                    <button class="mystic-btn" id="new-fortune">New Fortune</button>
                </div>
                
                <div class="mystic-card">
                    <h3>Daily Astrology</h3>
                    <p id="astrology-text">Cosmic guidance for today...</p>
                    <button class="mystic-btn" id="new-astrology">New Tip</button>
                </div>
            </div>
        </div>
        
        <!-- Games Section -->
        <div id="games" class="section">
            <h2>Stress Relief Games</h2>
            <div class="games-grid">
                <div class="game-container">
                    <h3>Bubble Pop</h3>
                    <div class="bubble-game" id="bubble-game">
                        <div class="game-score">Score: <span id="bubble-score">0</span></div>
                    </div>
                    <p>Click bubbles to pop them and relax!</p>
                </div>
                
                <div class="game-container">
                    <h3>Sand Drawing</h3>
                    <canvas class="sand-canvas" id="sand-canvas"></canvas>
                    <p>Draw freely on the sand</p>
                </div>
            </div>
        </div>
        
        <!-- Psychology Section -->
        <div id="psychology" class="section">
            <h2>Psychology Corner</h2>
            <div class="mood-quiz">
                <div class="mood-question">How are you feeling today?</div>
                <div class="mood-options">
                    <label class="mood-option">
                        <input type="radio" name="mood" value="happy">
                        <span>Happy & Energetic</span>
                    </label>
                    <label class="mood-option">
                        <input type="radio" name="mood" value="calm">
                        <span>Calm & Peaceful</span>
                    </label>
                    <label class="mood-option">
                        <input type="radio" name="mood" value="stressed">
                        <span>Stressed & Anxious</span>
                    </label>
                    <label class="mood-option">
                        <input type="radio" name="mood" value="sad">
                        <span>Sad & Low</span>
                    </label>
                </div>
                <button class="mystic-btn" id="check-mood">Check My Mood</button>
                <div class="mood-result" id="mood-result"></div>
            </div>
        </div>
        
        <!-- Breathing Exercise -->
        <div id="breathing" class="section">
            <h2>Breathing Exercise</h2>
            <div class="breathing-container">
                <div class="breathing-instructions">
                    Follow the circle's rhythm: Inhale for 4 seconds, hold for 4, exhale for 4
                </div>
                <div class="breathing-animation">
                    <div class="breathing-step" id="breathing-step">Inhale</div>
                </div>
            </div>
        </div>
        
        <!-- Journal Section -->
        <div id="journal" class="section">
            <h2>Emotion Journal</h2>
            <div class="journal-container">
                <textarea class="journal-textarea" id="journal-textarea" placeholder="Write your thoughts and feelings here..."></textarea>
                <div class="journal-controls">
                    <button class="journal-btn" id="save-journal">Save Entry</button>
                    <button class="journal-btn" id="view-journal">View Entries</button>
                    <button class="journal-btn" id="clear-journal">Clear</button>
                </div>
                <div class="journal-entries" id="journal-entries"></div>
            </div>
        </div>
        
        <!-- Nature Sounds -->
        <div id="sounds" class="section">
            <h2>Nature Sounds</h2>
            <div class="sounds-container">
                <div class="sound-item">
                    <h4>Rain</h4>
                    <div class="sound-controls">
                        <button class="sound-toggle" data-sound="rain">Play Rain</button>
                        <input type="range" class="volume-slider" data-sound="rain" min="0" max="100" value="50">
                    </div>
                </div>
                
                <div class="sound-item">
                    <h4>Ocean Waves</h4>
                    <div class="sound-controls">
                        <button class="sound-toggle" data-sound="ocean">Play Ocean</button>
                        <input type="range" class="volume-slider" data-sound="ocean" min="0" max="100" value="50">
                    </div>
                </div>
                
                <div class="sound-item">
                    <h4>Forest Birds</h4>
                    <div class="sound-controls">
                        <button class="sound-toggle" data-sound="forest">Play Forest</button>
                        <input type="range" class="volume-slider" data-sound="forest" min="0" max="100" value="50">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <p>This site does not collect personal data; all data is stored locally on your device.</p>
        </div>
    </div>

    <script>
        class DigitalSanctuary {
            constructor() {
                this.currentSection = 'quote';
                this.timer = null;
                this.timerRunning = false;
                this.timerTime = 25 * 60; // 25 minutes in seconds
                this.breathingStep = 0;
                this.bubbleScore = 0;
                this.sounds = {};
                this.journalEntries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
                
                this.init();
            }
            
            init() {
                this.bindEvents();
                this.loadQuote();
                this.initBubbleGame();
                this.initSandCanvas();
                this.loadJournalEntries();
                this.startBreathingAnimation();
            }
            
            bindEvents() {
                // Navigation
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.showSection(e.target.dataset.section);
                    });
                });
                
                // Quote
                document.getElementById('new-quote-btn').addEventListener('click', () => {
                    this.loadQuote();
                });
                
                // Timer
                document.getElementById('start-timer').addEventListener('click', () => {
                    this.startTimer();
                });
                
                document.getElementById('pause-timer').addEventListener('click', () => {
                    this.pauseTimer();
                });
                
                document.getElementById('reset-timer').addEventListener('click', () => {
                    this.resetTimer();
                });
                
                // Mystic
                document.getElementById('new-tarot').addEventListener('click', () => {
                    this.generateTarot();
                });
                
                document.getElementById('new-fortune').addEventListener('click', () => {
                    this.generateFortune();
                });
                
                document.getElementById('new-astrology').addEventListener('click', () => {
                    this.generateAstrology();
                });
                
                // Psychology
                document.getElementById('check-mood').addEventListener('click', () => {
                    this.checkMood();
                });
                
                // Journal
                document.getElementById('save-journal').addEventListener('click', () => {
                    this.saveJournalEntry();
                });
                
                document.getElementById('view-journal').addEventListener('click', () => {
                    this.toggleJournalEntries();
                });
                
                document.getElementById('clear-journal').addEventListener('click', () => {
                    this.clearJournal();
                });
                
                // Sounds
                document.querySelectorAll('.sound-toggle').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.toggleSound(e.target.dataset.sound);
                    });
                });
                
                document.querySelectorAll('.volume-slider').forEach(slider => {
                    slider.addEventListener('input', (e) => {
                        this.adjustVolume(e.target.dataset.sound, e.target.value);
                    });
                });
            }
            
            showSection(sectionId) {
                // Hide all sections
                document.querySelectorAll('.section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // Remove active class from all nav buttons
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Show selected section
                document.getElementById(sectionId).classList.add('active');
                
                // Add active class to clicked button
                document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');
                
                this.currentSection = sectionId;
            }
            
            async loadQuote() {
                const quoteText = document.getElementById('quote-text');
                const btn = document.getElementById('new-quote-btn');
                const btnText = btn.querySelector('.btn-text');
                const loading = btn.querySelector('.loading');
                
                // Show loading state
                btnText.style.display = 'none';
                loading.style.display = 'inline-block';
                btn.disabled = true;
                
                try {
                    // Placeholder for OpenAI API call
                    // Replace with actual API call when you have an API key
                    const quotes = [
                        "Peace comes from within. Do not seek it without.",
                        "The mind is everything. What you think you become.",
                        "Happiness is not something ready-made. It comes from your own actions.",
                        "Every morning we are born again. What we do today matters most.",
                        "The only way to do great work is to love what you do.",
                        "Life is not about waiting for the storm to pass but learning to dance in the rain.",
                        "You are never too old to set another goal or to dream a new dream.",
                        "The greatest glory in living lies not in never falling, but in rising every time we fall.",
                        "Believe you can and you're halfway there.",
                        "The future belongs to those who believe in the beauty of their dreams."
                    ];
                    
                    // Simulate API delay
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                    quoteText.textContent = randomQuote;
                    
                } catch (error) {
                    console.error('Error loading quote:', error);
                    quoteText.textContent = "Peace begins with a smile.";
                } finally {
                    // Hide loading state
                    btnText.style.display = 'inline';
                    loading.style.display = 'none';
                    btn.disabled = false;
                }
            }
            
            startTimer() {
                if (this.timerRunning) return;
                
                this.timerRunning = true;
                document.getElementById('start-timer').textContent = 'Running...';
                
                this.timer = setInterval(() => {
                    this.timerTime--;
                    this.updateTimerDisplay();
                    
                    if (this.timerTime <= 0) {
                        this.timerComplete();
                    }
                }, 1000);
            }
            
            pauseTimer() {
                if (!this.timerRunning) return;
                
                clearInterval(this.timer);
                this.timerRunning = false;
                document.getElementById('start-timer').textContent = 'Resume';
            }
            
            resetTimer() {
                clearInterval(this.timer);
                this.timerRunning = false;
                this.timerTime = 25 * 60;
                this.updateTimerDisplay();
                document.getElementById('start-timer').textContent = 'Start';
            }
            
            updateTimerDisplay() {
                const minutes = Math.floor(this.timerTime / 60);
                const seconds = this.timerTime % 60;
                document.getElementById('timer-display').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            
            timerComplete() {
                clearInterval(this.timer);
                this.timerRunning = false;
                document.getElementById('start-timer').textContent = 'Start';
                
                // Show completion message
                const timerDisplay = document.getElementById('timer-display');
                timerDisplay.textContent = 'Time\'s up!';
                timerDisplay.style.color = '#48bb78';
                
                setTimeout(() => {
                    this.resetTimer();
                    timerDisplay.style.color = '#4a5568';
                }, 3000);
            }
            
            generateTarot() {
                const tarotCards = [
                    { name: 'The Fool', meaning: 'New beginnings, innocence, spontaneity' },
                    { name: 'The Magician', meaning: 'Manifestation, resourcefulness, power' },
                    { name: 'The High Priestess', meaning: 'Intuition, mystery, spirituality' },
                    { name: 'The Empress', meaning: 'Fertility, nurturing, abundance' },
                    { name: 'The Emperor', meaning: 'Authority, structure, control' },
                    { name: 'The Hierophant', meaning: 'Tradition, conformity, morality' },
                    { name: 'The Lovers', meaning: 'Love, harmony, relationships' },
                    { name: 'The Chariot', meaning: 'Control, willpower, victory' },
                    { name: 'Strength', meaning: 'Inner strength, courage, persuasion' },
                    { name: 'The Hermit', meaning: 'Soul-searching, introspection, solitude' }
                ];
                
                const randomCard = tarotCards[Math.floor(Math.random() * tarotCards.length)];
                const tarotImage = document.getElementById('tarot-image');
                
                tarotImage.innerHTML = `
                    <div style="text-align: center; padding: 10px;">
                        <div style="font-size: 1.2rem; margin-bottom: 10px;">${randomCard.name}</div>
                        <div style="font-size: 0.8rem;">${randomCard.meaning}</div>
                    </div>
                `;
            }
            
            generateFortune() {
                const fortunes = [
                    "A beautiful, smart, and loving person will be coming into your life.",
                    "A dubious friend may be an enemy in camouflage.",
                    "A faithful friend is a strong defense.",
                    "A fresh start will put you on your way.",
                    "A golden egg of opportunity falls into your lap this month.",
                    "A lifetime friend shall soon be made.",
                    "A light heart carries you through all the hard times.",
                    "A new perspective will come with the new year.",
                    "A pleasant surprise is waiting for you.",
                    "Adventure can be real happiness."
                ];
                
                const randomFortune = fortunes[Math.floor(Math.random() * fortunes.length)];
                document.getElementById('fortune-text').textContent = randomFortune;
            }
            
            generateAstrology() {
                const astrologyTips = [
                    "Today is perfect for starting new projects. The stars align in your favor.",
                    "Communication is highlighted today. Reach out to loved ones.",
                    "Focus on self-care and inner peace. The moon supports emotional healing.",
                    "Financial opportunities may arise. Stay open to new possibilities.",
                    "Your creativity is at its peak. Express yourself through art or writing.",
                    "Relationships are highlighted. Strengthen bonds with family and friends.",
                    "Physical activity will bring you energy and clarity today.",
                    "Trust your intuition. Your inner wisdom is strong right now.",
                    "Learning something new will expand your horizons today.",
                    "Rest and reflection will serve you well today."
                ];
                
                const randomTip = astrologyTips[Math.floor(Math.random() * astrologyTips.length)];
                document.getElementById('astrology-text').textContent = randomTip;
            }
            
            checkMood() {
                const selectedMood = document.querySelector('input[name="mood"]:checked');
                
                if (!selectedMood) {
                    alert('Please select how you are feeling today.');
                    return;
                }
                
                const moodResults = {
                    happy: "You're radiating positive energy! Keep spreading joy and consider sharing your happiness with others.",
                    calm: "You're in a beautiful state of peace. This is perfect for meditation and mindful activities.",
                    stressed: "It's okay to feel stressed. Try taking deep breaths, going for a walk, or talking to someone you trust.",
                    sad: "Your feelings are valid. Remember that difficult emotions are temporary. Consider reaching out for support."
                };
                
                const result = document.getElementById('mood-result');
                result.textContent = moodResults[selectedMood.value];
                result.style.display = 'block';
            }
            
            initBubbleGame() {
                const gameArea = document.getElementById('bubble-game');
                let bubbles = [];
                
                const createBubble = () => {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble';
                    bubble.style.left = Math.random() * (gameArea.offsetWidth - 40) + 'px';
                    bubble.style.top = gameArea.offsetHeight + 'px';
                    bubble.style.width = Math.random() * 30 + 20 + 'px';
                    bubble.style.height = bubble.style.width;
                    bubble.style.animationDuration = Math.random() * 2 + 2 + 's';
                    
                    gameArea.appendChild(bubble);
                    bubbles.push(bubble);
                    
                    // Remove bubble after animation
                    setTimeout(() => {
                        if (bubble.parentNode) {
                            bubble.parentNode.removeChild(bubble);
                            bubbles = bubbles.filter(b => b !== bubble);
                        }
                    }, 5000);
                };
                
                // Create bubbles periodically
                setInterval(createBubble, 1000);
                
                // Pop bubbles on click
                gameArea.addEventListener('click', (e) => {
                    if (e.target.classList.contains('bubble')) {
                        this.bubbleScore++;
                        document.getElementById('bubble-score').textContent = this.bubbleScore;
                        e.target.remove();
                        bubbles = bubbles.filter(b => b !== e.target);
                    }
                });
            }
            
            initSandCanvas() {
                const canvas = document.getElementById('sand-canvas');
                const ctx = canvas.getContext('2d');
                let isDrawing = false;
                let lastX = 0;
                let lastY = 0;
                
                // Set canvas size
                const resizeCanvas = () => {
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                };
                
                resizeCanvas();
                window.addEventListener('resize', resizeCanvas);
                
                // Drawing events
                canvas.addEventListener('mousedown', (e) => {
                    isDrawing = true;
                    [lastX, lastY] = [e.offsetX, e.offsetY];
                });
                
                canvas.addEventListener('mousemove', (e) => {
                    if (!isDrawing) return;
                    
                    ctx.beginPath();
                    ctx.moveTo(lastX, lastY);
                    ctx.lineTo(e.offsetX, e.offsetY);
                    ctx.strokeStyle = '#d69e2e';
                    ctx.lineWidth = 2;
                    ctx.lineCap = 'round';
                    ctx.stroke();
                    
                    [lastX, lastY] = [e.offsetX, e.offsetY];
                });
                
                canvas.addEventListener('mouseup', () => {
                    isDrawing = false;
                });
                
                canvas.addEventListener('mouseleave', () => {
                    isDrawing = false;
                });
                
                // Touch support for mobile
                canvas.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    const touch = e.touches[0];
                    const rect = canvas.getBoundingClientRect();
                    isDrawing = true;
                    [lastX, lastY] = [touch.clientX - rect.left, touch.clientY - rect.top];
                });
                
                canvas.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    if (!isDrawing) return;
                    
                    const touch = e.touches[0];
                    const rect = canvas.getBoundingClientRect();
                    const x = touch.clientX - rect.left;
                    const y = touch.clientY - rect.top;
                    
                    ctx.beginPath();
                    ctx.moveTo(lastX, lastY);
                    ctx.lineTo(x, y);
                    ctx.strokeStyle = '#d69e2e';
                    ctx.lineWidth = 2;
                    ctx.lineCap = 'round';
                    ctx.stroke();
                    
                    [lastX, lastY] = [x, y];
                });
                
                canvas.addEventListener('touchend', () => {
                    isDrawing = false;
                });
            }
            
            startBreathingAnimation() {
                const breathingSteps = ['Inhale', 'Hold', 'Exhale'];
                const breathingElement = document.getElementById('breathing-step');
                
                setInterval(() => {
                    breathingElement.textContent = breathingSteps[this.breathingStep];
                    this.breathingStep = (this.breathingStep + 1) % 3;
                }, 4000);
            }
            
            saveJournalEntry() {
                const textarea = document.getElementById('journal-textarea');
                const content = textarea.value.trim();
                
                if (!content) {
                    alert('Please write something before saving.');
                    return;
                }
                
                const entry = {
                    id: Date.now(),
                    content: content,
                    date: new Date().toLocaleDateString(),
                    timestamp: new Date().toISOString()
                };
                
                this.journalEntries.unshift(entry);
                localStorage.setItem('journalEntries', JSON.stringify(this.journalEntries));
                
                textarea.value = '';
                this.loadJournalEntries();
                
                alert('Journal entry saved successfully!');
            }
            
            loadJournalEntries() {
                const entriesContainer = document.getElementById('journal-entries');
                entriesContainer.innerHTML = '';
                
                this.journalEntries.forEach(entry => {
                    const entryElement = document.createElement('div');
                    entryElement.className = 'journal-entry';
                    entryElement.innerHTML = `
                        <div class="journal-date">${entry.date}</div>
                        <div class="journal-content">${entry.content}</div>
                    `;
                    entriesContainer.appendChild(entryElement);
                });
            }
            
            toggleJournalEntries() {
                const entriesContainer = document.getElementById('journal-entries');
                if (entriesContainer.style.display === 'none' || !entriesContainer.style.display) {
                    entriesContainer.style.display = 'block';
                } else {
                    entriesContainer.style.display = 'none';
                }
            }
            
            clearJournal() {
                if (confirm('Are you sure you want to clear all journal entries? This cannot be undone.')) {
                    this.journalEntries = [];
                    localStorage.setItem('journalEntries', JSON.stringify(this.journalEntries));
                    this.loadJournalEntries();
                    alert('Journal cleared successfully!');
                }
            }
            
            toggleSound(soundType) {
                const button = document.querySelector(`[data-sound="${soundType}"]`);
                
                if (button.classList.contains('playing')) {
                    // Stop sound
                    button.classList.remove('playing');
                    button.textContent = `Play ${soundType.charAt(0).toUpperCase() + soundType.slice(1)}`;
                    
                    if (this.sounds[soundType]) {
                        this.sounds[soundType].pause();
                        this.sounds[soundType].currentTime = 0;
                    }
                } else {
                    // Play sound
                    button.classList.add('playing');
                    button.textContent = 'Stop';
                    
                    // Create audio element (placeholder - replace with actual audio URLs)
                    if (!this.sounds[soundType]) {
                        this.sounds[soundType] = new Audio();
                        // Placeholder URLs - replace with actual audio files
                        const audioUrls = {
                            rain: 'https://www.soundjay.com/misc/sounds/rain-01.mp3',
                            ocean: 'https://www.soundjay.com/misc/sounds/ocean-wave-1.mp3',
                            forest: 'https://www.soundjay.com/misc/sounds/bird-1.mp3'
                        };
                        this.sounds[soundType].src = audioUrls[soundType];
                        this.sounds[soundType].loop = true;
                    }
                    
                    this.sounds[soundType].play().catch(error => {
                        console.log('Audio playback failed:', error);
                        button.classList.remove('playing');
                        button.textContent = `Play ${soundType.charAt(0).toUpperCase() + soundType.slice(1)}`;
                    });
                }
            }
            
            adjustVolume(soundType, volume) {
                if (this.sounds[soundType]) {
                    this.sounds[soundType].volume = volume / 100;
                }
            }
        }
        
        // Initialize the application when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new DigitalSanctuary();
        });
    </script>
</body>
</html>
