<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°å­—åœ£æ‰€ - ä½ çš„æ²»æ„ˆç©ºé—´</title>
    <meta name="description" content="ä¸€ä¸ªå®é™ã€ç®€çº¦çš„åœ£æ‰€ï¼Œç”¨äºå‡å‹ã€æ­£å¿µå’Œæƒ…æ„Ÿå®‰æ…°">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #2d3748;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 300;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Language Selector */
        .language-selector {
            position: relative;
            display: inline-block;
            margin-bottom: 20px;
        }

        .language-btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .language-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 8px 0;
            min-width: 150px;
            display: none;
            z-index: 1000;
        }

        .language-dropdown.show {
            display: block;
        }

        .language-option {
            padding: 8px 16px;
            cursor: pointer;
            transition: background 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .language-option:hover {
            background: #f7fafc;
        }

        .language-option.active {
            background: #e2e8f0;
            font-weight: 500;
        }

        .flag {
            width: 20px;
            height: 15px;
            background-size: cover;
            border-radius: 2px;
        }

        .flag-cn { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600"><rect fill="%23DE2910" width="900" height="600"/><path fill="%23FFDE00" d="M450 150l-50 150-150 50 150 50 50 150 50-150 150-50z"/></svg>'); }
        .flag-tw { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600"><rect fill="%23000000" width="900" height="600"/><rect fill="%23FF0000" width="900" height="300"/><rect fill="%230000FF" width="900" height="150"/><circle fill="%23FFFFFF" cx="450" cy="300" r="60"/></svg>'); }
        .flag-en { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600"><rect fill="%23012169" width="900" height="600"/><path fill="%23FFFFFF" d="M0 0h900v600H0z"/><path fill="%23C8102E" d="M0 0l450 300L0 600V0z"/></svg>'); }
        .flag-kr { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600"><rect fill="%23FFFFFF" width="900" height="600"/><circle fill="%23CD2E3A" cx="300" cy="300" r="120"/><circle fill="%23004A9C" cx="600" cy="300" r="120"/><path fill="%23CD2E3A" d="M450 150l-50 150-150 50 150 50 50 150 50-150 150-50z"/></svg>'); }
        .flag-jp { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600"><rect fill="%23FFFFFF" width="900" height="600"/><circle fill="%23BC002D" cx="450" cy="300" r="120"/></svg>'); }

        /* Navigation */
        .nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 40px;
        }

        .nav-btn {
            background: rgba(255,255,255,0.9);
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .nav-btn.active {
            background: #667eea;
            color: white;
        }

        /* Sections */
        .section {
            display: none;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Quote Section */
        .quote-container {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .quote {
            font-size: 1.8rem;
            font-weight: 300;
            margin-bottom: 30px;
            line-height: 1.6;
            color: #4a5568;
            transition: opacity 0.3s ease;
        }

        .new-quote-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .new-quote-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        /* Timer Section */
        .timer-container {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .timer-display {
            font-size: 4rem;
            font-weight: 300;
            margin: 30px 0;
            color: #4a5568;
            font-family: 'Courier New', monospace;
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .timer-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .timer-btn:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        .breathing-circle {
            width: 200px;
            height: 200px;
            border: 3px solid #667eea;
            border-radius: 50%;
            margin: 30px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: breathe 8s infinite ease-in-out;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.2); }
            50% { transform: scale(1.1); }
            75% { transform: scale(0.9); }
        }

        .breathing-text {
            font-size: 1.2rem;
            color: #667eea;
            font-weight: 500;
        }

        /* Mystic Zone */
        .mystic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .mystic-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(240, 147, 251, 0.3);
        }

        .mystic-card h3 {
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .mystic-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mystic-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .mystic-result {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            transition: opacity 0.3s ease;
        }

        /* Games Section */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .game-container {
            background: #f7fafc;
            padding: 25px;
            border-radius: 15px;
            border: 1px solid #e2e8f0;
        }

        .game-container h3 {
            margin-bottom: 20px;
            color: #4a5568;
        }

        .bubble-game {
            width: 100%;
            height: 300px;
            background: linear-gradient(180deg, #e6fffa 0%, #b2f5ea 100%);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .bubble {
            position: absolute;
            background: radial-gradient(circle, rgba(102, 126, 234, 0.8) 0%, rgba(118, 75, 162, 0.6) 100%);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .bubble:hover {
            transform: scale(1.1);
        }

        .sand-canvas {
            width: 100%;
            height: 300px;
            background: #fef5e7;
            border-radius: 10px;
            cursor: crosshair;
            border: 1px solid #e2e8f0;
        }

        /* Psychology Section */
        .mood-quiz {
            max-width: 600px;
            margin: 0 auto;
        }

        .mood-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .mood-option {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .mood-option:hover {
            border-color: #667eea;
            background: #edf2f7;
        }

        .mood-option input[type="radio"] {
            margin-right: 8px;
        }

        .mood-check-btn {
            background: #48bb78;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .mood-check-btn:hover {
            background: #38a169;
        }

        .mood-result {
            margin-top: 20px;
            padding: 20px;
            background: #f0fff4;
            border: 1px solid #9ae6b4;
            border-radius: 10px;
            text-align: center;
            transition: opacity 0.3s ease;
        }

        /* Breathing Exercise */
        .breathing-container {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .breathing-instructions {
            margin-bottom: 30px;
            font-size: 1.2rem;
            color: #4a5568;
        }

        .breathing-animation {
            width: 300px;
            height: 300px;
            border: 4px solid #667eea;
            border-radius: 50%;
            margin: 30px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: breatheCycle 19s infinite ease-in-out;
        }

        @keyframes breatheCycle {
            0%, 100% { transform: scale(1); }
            12.5% { transform: scale(1.3); }
            37.5% { transform: scale(1.3); }
            62.5% { transform: scale(0.8); }
            87.5% { transform: scale(0.8); }
        }

        .breathing-step {
            font-size: 1.5rem;
            color: #667eea;
            font-weight: 500;
        }

        /* Journal Section */
        .journal-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .journal-textarea {
            width: 100%;
            height: 200px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            font-size: 1rem;
            font-family: inherit;
            resize: vertical;
            margin-bottom: 20px;
            transition: border-color 0.3s ease;
        }

        .journal-textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .journal-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .journal-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .journal-btn:hover {
            background: #5a67d8;
        }

        .journal-entries {
            display: none;
            background: #f7fafc;
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #e2e8f0;
        }

        .journal-entry {
            padding: 15px;
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 15px;
        }

        .journal-entry:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .entry-date {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 8px;
        }

        .entry-text {
            color: #4a5568;
            line-height: 1.5;
        }

        /* Nature Sounds */
        .sounds-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .sound-item {
            background: #f7fafc;
            padding: 25px;
            border-radius: 15px;
            border: 1px solid #e2e8f0;
            text-align: center;
        }

        .sound-item h3 {
            margin-bottom: 15px;
            color: #4a5568;
        }

        .sound-toggle {
            background: #48bb78;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .sound-toggle.playing {
            background: #e53e3e;
        }

        .volume-slider {
            width: 100%;
            margin-top: 10px;
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            color: rgba(255,255,255,0.8);
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .nav {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .section {
                padding: 20px;
            }
            
            .timer-display {
                font-size: 3rem;
            }
            
            .breathing-circle,
            .breathing-animation {
                width: 150px;
                height: 150px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .quote {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 data-translate="title">æ•°å­—åœ£æ‰€</h1>
            <p data-translate="subtitle">ä½ çš„å®é™æ²»æ„ˆç©ºé—´</p>
            
            <!-- Language Selector -->
            <div class="language-selector">
                <button class="language-btn" id="languageBtn">
                    <span class="flag flag-cn"></span>
                    <span data-translate="currentLang">ç®€ä½“ä¸­æ–‡</span>
                </button>
                <div class="language-dropdown" id="languageDropdown">
                    <div class="language-option active" data-lang="zh-CN">
                        <span class="flag flag-cn"></span>
                        ç®€ä½“ä¸­æ–‡
                    </div>
                    <div class="language-option" data-lang="zh-TW">
                        <span class="flag flag-tw"></span>
                        ç¹é«”ä¸­æ–‡
                    </div>
                    <div class="language-option" data-lang="en">
                        <span class="flag flag-en"></span>
                        English
                    </div>
                    <div class="language-option" data-lang="ko">
                        <span class="flag flag-kr"></span>
                        í•œêµ­ì–´
                    </div>
                    <div class="language-option" data-lang="ja">
                        <span class="flag flag-jp"></span>
                        æ—¥æœ¬èª
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav">
            <button class="nav-btn active" data-section="quote" data-translate="navQuote">æ¯æ—¥ç¦…è¯­</button>
            <button class="nav-btn" data-section="timer" data-translate="navTimer">ä¸“æ³¨è®¡æ—¶</button>
            <button class="nav-btn" data-section="mystic" data-translate="navMystic">ç„å­¦åŒºåŸŸ</button>
            <button class="nav-btn" data-section="games" data-translate="navGames">å‡å‹æ¸¸æˆ</button>
            <button class="nav-btn" data-section="psychology" data-translate="navPsychology">å¿ƒç†è§’è½</button>
            <button class="nav-btn" data-section="breathing" data-translate="navBreathing">å‘¼å¸ç»ƒä¹ </button>
            <button class="nav-btn" data-section="journal" data-translate="navJournal">æƒ…æ„Ÿæ—¥è®°</button>
            <button class="nav-btn" data-section="sounds" data-translate="navSounds">è‡ªç„¶éŸ³æ•ˆ</button>
        </div>

        <!-- Quote Section -->
        <div id="quote" class="section active">
            <div class="quote-container">
                <div class="quote" id="quoteText">
                    æ¯ä¸€ä¸ªä»Šå¤©éƒ½æ˜¯æ˜¨å¤©æ­»å»çš„äººæœŸå¾…çš„æ˜å¤©ã€‚
                </div>
                <button class="new-quote-btn" id="newQuoteBtn" data-translate="newQuote">æ–°è¯­å½•</button>
            </div>
        </div>

        <!-- Timer Section -->
        <div id="timer" class="section">
            <div class="timer-container">
                <h2 data-translate="navTimer">ä¸“æ³¨è®¡æ—¶</h2>
                <div class="timer-display" id="timerDisplay">25:00</div>
                <div class="timer-controls">
                    <button class="timer-btn" id="startTimer" data-translate="start">å¼€å§‹</button>
                    <button class="timer-btn" id="pauseTimer" data-translate="pause">æš‚åœ</button>
                    <button class="timer-btn" id="resetTimer" data-translate="reset">é‡ç½®</button>
                </div>
                <div class="breathing-circle">
                    <div class="breathing-text" id="breathingText">å‡†å¤‡å¼€å§‹...</div>
                </div>
            </div>
        </div>

        <!-- Mystic Zone -->
        <div id="mystic" class="section">
            <h2 data-translate="navMystic">ç„å­¦åŒºåŸŸ</h2>
            <div class="mystic-grid">
                <div class="mystic-card">
                    <h3 data-translate="tarotTitle">å¡”ç½—ç‰Œ</h3>
                    <button class="mystic-btn" id="tarotBtn" data-translate="drawCard">æŠ½ç‰Œ</button>
                    <div class="mystic-result" style="display: none;"></div>
                </div>
                <div class="mystic-card">
                    <h3>å¹¸è¿é¥¼å¹²</h3>
                    <button class="mystic-btn" id="fortuneBtn">è·å–ä¿¡æ¯</button>
                    <div class="mystic-result" style="display: none;"></div>
                </div>
                <div class="mystic-card">
                    <h3>æ¯æ—¥æ˜Ÿåº§</h3>
                    <button class="mystic-btn" id="astrologyBtn">æŸ¥çœ‹è¿åŠ¿</button>
                    <div class="mystic-result" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- Games Section -->
        <div id="games" class="section">
            <h2 data-translate="navGames">å‡å‹æ¸¸æˆ</h2>
            <div class="games-grid">
                <div class="game-container">
                    <h3>æ³¡æ³¡æ¸¸æˆ</h3>
                    <p>ç‚¹å‡»æ³¡æ³¡æ¥æ¶ˆé™¤å®ƒä»¬</p>
                    <div class="bubble-game"></div>
                    <p>å¾—åˆ†: <span id="bubbleScore">0</span></p>
                </div>
                <div class="game-container">
                    <h3>æ²™ç”»æ¿</h3>
                    <p>åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶ä½ çš„æƒ³æ³•</p>
                    <canvas class="sand-canvas"></canvas>
                </div>
            </div>
        </div>

        <!-- Psychology Section -->
        <div id="psychology" class="section">
            <h2 data-translate="navPsychology">å¿ƒç†è§’è½</h2>
            <div class="mood-quiz">
                <h3>ä»Šå¤©çš„å¿ƒæƒ…å¦‚ä½•ï¼Ÿ</h3>
                <div class="mood-options">
                    <label class="mood-option">
                        <input type="radio" name="mood" value="happy">
                        å¼€å¿ƒ ğŸ˜Š
                    </label>
                    <label class="mood-option">
                        <input type="radio" name="mood" value="calm">
                        å¹³é™ ğŸ˜Œ
                    </label>
                    <label class="mood-option">
                        <input type="radio" name="mood" value="anxious">
                        ç„¦è™‘ ğŸ˜°
                    </label>
                    <label class="mood-option">
                        <input type="radio" name="mood" value="sad">
                        éš¾è¿‡ ğŸ˜¢
                    </label>
                    <label class="mood-option">
                        <input type="radio" name="mood" value="tired">
                        ç–²æƒ« ğŸ˜´
                    </label>
                </div>
                <button class="mood-check-btn" data-translate="moodCheck">æ£€æŸ¥å¿ƒæƒ…</button>
                <div class="mood-result" style="display: none;"></div>
            </div>
        </div>

        <!-- Breathing Exercise -->
        <div id="breathing" class="section">
            <div class="breathing-container">
                <h2 data-translate="navBreathing">å‘¼å¸ç»ƒä¹ </h2>
                <div class="breathing-instructions">
                    <p>è·Ÿéšåœ†åœˆè¿›è¡Œ4-7-8å‘¼å¸ç»ƒä¹ </p>
                </div>
                <div class="breathing-animation">
                    <div class="breathing-step" id="breathingText">å‡†å¤‡å¼€å§‹...</div>
                </div>
            </div>
        </div>

        <!-- Journal Section -->
        <div id="journal" class="section">
            <div class="journal-container">
                <h2 data-translate="navJournal">æƒ…æ„Ÿæ—¥è®°</h2>
                <textarea class="journal-textarea" placeholder="å†™ä¸‹ä½ ä»Šå¤©çš„æ„Ÿå—..."></textarea>
                <div class="journal-controls">
                    <button class="journal-btn" data-translate="saveJournal">ä¿å­˜æ—¥è®°</button>
                    <button class="journal-btn" data-translate="viewJournal">æŸ¥çœ‹è®°å½•</button>
                    <button class="journal-btn" data-translate="clearJournal">æ¸…ç©º</button>
                </div>
                <div class="journal-entries"></div>
            </div>
        </div>

        <!-- Nature Sounds -->
        <div id="sounds" class="section">
            <h2 data-translate="navSounds">è‡ªç„¶éŸ³æ•ˆ</h2>
            <div class="sounds-container">
                <div class="sound-item">
                    <h3>é›¨å£°</h3>
                    <button class="sound-toggle" data-sound="rain" data-translate="playSound">æ’­æ”¾</button>
                    <input type="range" class="volume-slider" data-sound="rain" min="0" max="100" value="50">
                </div>
                <div class="sound-item">
                    <h3>æµ·æµªå£°</h3>
                    <button class="sound-toggle" data-sound="ocean" data-translate="playSound">æ’­æ”¾</button>
                    <input type="range" class="volume-slider" data-sound="ocean" min="0" max="100" value="50">
                </div>
                <div class="sound-item">
                    <h3>æ£®æ—é¸Ÿé¸£</h3>
                    <button class="sound-toggle" data-sound="forest" data-translate="playSound">æ’­æ”¾</button>
                    <input type="range" class="volume-slider" data-sound="forest" min="0" max="100" value="50">
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p data-translate="privacyNotice">éšç§å£°æ˜ï¼šæ‰€æœ‰æ•°æ®ä»…å­˜å‚¨åœ¨æ‚¨çš„è®¾å¤‡ä¸Šã€‚æˆ‘ä»¬ä¸ä¼šæ”¶é›†ä»»ä½•ä¸ªäººä¿¡æ¯ã€‚</p>
        </div>
    </div>

    <script>
        // ç­‰å¾…DOMåŠ è½½å®Œæˆ
        document.addEventListener('DOMContentLoaded', function() {
            
            // ç¿»è¯‘å¯¹è±¡
            const translations = {
                'zh-CN': {
                    title: 'æ•°å­—åœ£æ‰€',
                    subtitle: 'ä½ çš„å®é™æ²»æ„ˆç©ºé—´',
                    currentLang: 'ç®€ä½“ä¸­æ–‡',
                    navQuote: 'æ¯æ—¥ç¦…è¯­',
                    navTimer: 'ä¸“æ³¨è®¡æ—¶',
                    navMystic: 'ç„å­¦åŒºåŸŸ',
                    navGames: 'å‡å‹æ¸¸æˆ',
                    navPsychology: 'å¿ƒç†è§’è½',
                    navBreathing: 'å‘¼å¸ç»ƒä¹ ',
                    navJournal: 'æƒ…æ„Ÿæ—¥è®°',
                    navSounds: 'è‡ªç„¶éŸ³æ•ˆ',
                    newQuote: 'æ–°è¯­å½•',
                    start: 'å¼€å§‹',
                    pause: 'æš‚åœ',
                    reset: 'é‡ç½®',
                    breatheIn: 'å¸æ°”',
                    breatheOut: 'å‘¼æ°”',
                    tarotTitle: 'å¡”ç½—ç‰Œ',
                    drawCard: 'æŠ½ç‰Œ',
                    moodCheck: 'æ£€æŸ¥å¿ƒæƒ…',
                    saveJournal: 'ä¿å­˜æ—¥è®°',
                    viewJournal: 'æŸ¥çœ‹è®°å½•',
                    clearJournal: 'æ¸…ç©º',
                    playSound: 'æ’­æ”¾',
                    privacyNotice: 'éšç§å£°æ˜ï¼šæ‰€æœ‰æ•°æ®ä»…å­˜å‚¨åœ¨æ‚¨çš„è®¾å¤‡ä¸Šã€‚æˆ‘ä»¬ä¸ä¼šæ”¶é›†ä»»ä½•ä¸ªäººä¿¡æ¯ã€‚'
                },
                'zh-TW': {
                    title: 'æ•¸ä½è–æ‰€',
                    subtitle: 'ä½ çš„å¯§éœæ²»ç™’ç©ºé–“',
                    currentLang: 'ç¹é«”ä¸­æ–‡',
                    navQuote: 'æ¯æ—¥ç¦ªèª',
                    navTimer: 'å°ˆæ³¨è¨ˆæ™‚',
                    navMystic: 'ç„å­¸å€åŸŸ',
                    navGames: 'æ¸›å£“éŠæˆ²',
                    navPsychology: 'å¿ƒç†è§’è½',
                    navBreathing: 'å‘¼å¸ç·´ç¿’',
                    navJournal: 'æƒ…æ„Ÿæ—¥è¨˜',
                    navSounds: 'è‡ªç„¶éŸ³æ•ˆ',
                    newQuote: 'æ–°èªéŒ„',
                    start: 'é–‹å§‹',
                    pause: 'æš«åœ',
                    reset: 'é‡ç½®',
                    breatheIn: 'å¸æ°£',
                    breatheOut: 'å‘¼æ°£',
                    tarotTitle: 'å¡”ç¾…ç‰Œ',
                    drawCard: 'æŠ½ç‰Œ',
                    moodCheck: 'æª¢æŸ¥å¿ƒæƒ…',
                    saveJournal: 'ä¿å­˜æ—¥è¨˜',
                    viewJournal: 'æŸ¥çœ‹è¨˜éŒ„',
                    clearJournal: 'æ¸…ç©º',
                    playSound: 'æ’­æ”¾',
                    privacyNotice: 'éš±ç§è²æ˜ï¼šæ‰€æœ‰æ•¸æ“šåƒ…å­˜å„²åœ¨æ‚¨çš„è¨­å‚™ä¸Šã€‚æˆ‘å€‘ä¸æœƒæ”¶é›†ä»»ä½•å€‹äººä¿¡æ¯ã€‚'
                },
                'en': {
                    title: 'Digital Sanctuary',
                    subtitle: 'Your peaceful healing space',
                    currentLang: 'English',
                    navQuote: 'Daily Quotes',
                    navTimer: 'Focus Timer',
                    navMystic: 'Mystic Zone',
                    navGames: 'Relaxing Games',
                    navPsychology: 'Psychology Corner',
                    navBreathing: 'Breathing Exercise',
                    navJournal: 'Emotional Journal',
                    navSounds: 'Nature Sounds',
                    newQuote: 'New Quote',
                    start: 'Start',
                    pause: 'Pause',
                    reset: 'Reset',
                    breatheIn: 'Breathe In',
                    breatheOut: 'Breathe Out',
                    tarotTitle: 'Tarot Cards',
                    drawCard: 'Draw Card',
                    moodCheck: 'Check Mood',
                    saveJournal: 'Save Journal',
                    viewJournal: 'View Entries',
                    clearJournal: 'Clear',
                    playSound: 'Play',
                    privacyNotice: 'Privacy Notice: All data is stored locally on your device only. We do not collect any personal information.'
                },
                'ko': {
                    title: 'ë””ì§€í„¸ ì„±ì†Œ',
                    subtitle: 'ë‹¹ì‹ ì˜ í‰í™”ë¡œìš´ ì¹˜ìœ  ê³µê°„',
                    currentLang: 'í•œêµ­ì–´',
                    navQuote: 'ì¼ì¼ ì„ ì–´',
                    navTimer: 'ì§‘ì¤‘ íƒ€ì´ë¨¸',
                    navMystic: 'ì‹ ë¹„í•œ ì˜ì—­',
                    navGames: 'ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œ',
                    navPsychology: 'ì‹¬ë¦¬í•™ ì½”ë„ˆ',
                    navBreathing: 'í˜¸í¡ ìš´ë™',
                    navJournal: 'ê°ì • ì¼ê¸°',
                    navSounds: 'ìì—°ìŒ',
                    newQuote: 'ìƒˆë¡œìš´ ì¸ìš©êµ¬',
                    start: 'ì‹œì‘',
                    pause: 'ì¼ì‹œì •ì§€',
                    reset: 'ì¬ì„¤ì •',
                    breatheIn: 'ë“¤ìˆ¨',
                    breatheOut: 'ë‚ ìˆ¨',
                    tarotTitle: 'íƒ€ë¡œ ì¹´ë“œ',
                    drawCard: 'ì¹´ë“œ ë½‘ê¸°',
                    moodCheck: 'ê¸°ë¶„ í™•ì¸',
                    saveJournal: 'ì¼ê¸° ì €ì¥',
                    viewJournal: 'ê¸°ë¡ ë³´ê¸°',
                    clearJournal: 'ì§€ìš°ê¸°',
                    playSound: 'ì¬ìƒ',
                    privacyNotice: 'ê°œì¸ì •ë³´ ë³´í˜¸: ëª¨ë“  ë°ì´í„°ëŠ” ê·€í•˜ì˜ ê¸°ê¸°ì—ë§Œ ë¡œì»¬ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ê°œì¸ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.'
                },
                'ja': {
                    title: 'ãƒ‡ã‚¸ã‚¿ãƒ«è–æ‰€',
                    subtitle: 'ã‚ãªãŸã®é™å¯‚ãªç™’ã—ã®ç©ºé–“',
                    currentLang: 'æ—¥æœ¬èª',
                    navQuote: 'æ—¥ã€…ã®ç¦…',
                    navTimer: 'é›†ä¸­ã‚¿ã‚¤ãƒãƒ¼',
                    navMystic: 'ç¥ç§˜çš„ãªé ˜åŸŸ',
                    navGames: 'ã‚¹ãƒˆãƒ¬ã‚¹è§£æ¶ˆ',
                    navPsychology: 'å¿ƒç†å­¦',
                    navBreathing: 'å‘¼å¸é‹å‹•',
                    navJournal: 'æ„Ÿæƒ…æ—¥è¨˜',
                    navSounds: 'è‡ªç„¶éŸ³',
                    newQuote: 'æ–°ã—ã„å¼•ç”¨',
                    start: 'é–‹å§‹',
                    pause: 'ä¸€æ™‚åœæ­¢',
                    reset: 'ãƒªã‚»ãƒƒãƒˆ',
                    breatheIn: 'å¸æ°—',
                    breatheOut: 'å‘¼æ°—',
                    tarotTitle: 'ã‚¿ãƒ­ãƒƒãƒˆã‚«ãƒ¼ãƒ‰',
                    drawCard: 'ã‚«ãƒ¼ãƒ‰ã‚’å¼•ã',
                    moodCheck: 'æ°—åˆ†ãƒã‚§ãƒƒã‚¯',
                    saveJournal: 'æ—¥è¨˜ã‚’ä¿å­˜',
                    viewJournal: 'è¨˜éŒ²ã‚’è¦‹ã‚‹',
                    clearJournal: 'ã‚¯ãƒªã‚¢',
                    playSound: 'å†ç”Ÿ',
                    privacyNotice: 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é€šçŸ¥ï¼šã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã¯ãŠå®¢æ§˜ã®ãƒ‡ãƒã‚¤ã‚¹ã«ã®ã¿ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚å€‹äººæƒ…å ±ã¯åé›†ã„ãŸã—ã¾ã›ã‚“ã€‚'
                }
            };

            // æ²»æ„ˆè¯­å½•æ•°æ®
            const quotes = {
                'zh-CN': [
                    "æ¯ä¸€ä¸ªä»Šå¤©éƒ½æ˜¯æ˜¨å¤©æ­»å»çš„äººæœŸå¾…çš„æ˜å¤©ã€‚",
                    "ç”Ÿæ´»ä¸æ˜¯ç­‰å¾…æš´é£é›¨è¿‡å»ï¼Œè€Œæ˜¯å­¦ä¼šåœ¨é›¨ä¸­èµ·èˆã€‚",
                    "ä½ ç°åœ¨çš„åŠªåŠ›ï¼Œæ˜¯ä½ æœªæ¥çš„åº•æ°”ã€‚",
                    "ä¸–ç•Œä»¥ç—›å»æˆ‘ï¼Œæˆ‘å´æŠ¥ä¹‹ä»¥æ­Œã€‚",
                    "å±±æœ‰å³°é¡¶ï¼Œæµ·æœ‰å½¼å²¸ï¼Œæ¼«æ¼«é•¿é€”ï¼Œç»ˆæœ‰å›è½¬ã€‚",
                    "æ˜Ÿå…‰ä¸é—®èµ¶è·¯äººï¼Œå²æœˆä¸è´Ÿæœ‰å¿ƒäººã€‚",
                    "æ„¿ä½ æœ‰å¥½è¿ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ„¿ä½ åœ¨ä¸å¹¸ä¸­å­¦ä¼šæ…ˆæ‚²ã€‚",
                    "ç”Ÿå‘½ä¸­æœ€é‡è¦çš„ä¸æ˜¯æ‰€ç«™çš„ä½ç½®ï¼Œè€Œæ˜¯æ‰€æœçš„æ–¹å‘ã€‚"
                ],
                'zh-TW': [
                    "æ¯ä¸€å€‹ä»Šå¤©éƒ½æ˜¯æ˜¨å¤©æ­»å»çš„äººæœŸå¾…çš„æ˜å¤©ã€‚",
                    "ç”Ÿæ´»ä¸æ˜¯ç­‰å¾…æš´é¢¨é›¨éå»ï¼Œè€Œæ˜¯å­¸æœƒåœ¨é›¨ä¸­èµ·èˆã€‚",
                    "ä½ ç¾åœ¨çš„åŠªåŠ›ï¼Œæ˜¯ä½ æœªä¾†çš„åº•æ°£ã€‚",
                    "ä¸–ç•Œä»¥ç—›å»æˆ‘ï¼Œæˆ‘å»å ±ä¹‹ä»¥æ­Œã€‚",
                    "å±±æœ‰å³°é ‚ï¼Œæµ·æœ‰å½¼å²¸ï¼Œæ¼«é•·é•·é€”ï¼Œçµ‚æœ‰å›è½‰ã€‚",
                    "æ˜Ÿå…‰ä¸å•è¶•è·¯äººï¼Œæ­²æœˆä¸è² æœ‰å¿ƒäººã€‚",
                    "é¡˜ä½ æœ‰å¥½é‹ï¼Œå¦‚æœæ²’æœ‰ï¼Œé¡˜ä½ åœ¨ä¸å¹¸ä¸­å­¸æœƒæ…ˆæ‚²ã€‚",
                    "ç”Ÿå‘½ä¸­æœ€é‡è¦çš„ä¸æ˜¯æ‰€ç«™çš„ä½ç½®ï¼Œè€Œæ˜¯æ‰€æœçš„æ–¹å‘ã€‚"
                ],
                'en': [
                    "Every today is the tomorrow that someone who died yesterday was looking forward to.",
                    "Life isn't about waiting for the storm to pass, it's about learning to dance in the rain.",
                    "Your current efforts are the confidence of your future.",
                    "The world kissed me with pain, but I sang back.",
                    "Mountains have peaks, seas have shores, the long journey will eventually turn around.",
                    "Stars don't ask travelers, time doesn't disappoint those who care.",
                    "May you have good luck, if not, may you learn compassion in misfortune.",
                    "The most important thing in life is not where you stand, but the direction you face."
                ],
                'ko': [
                    "ì˜¤ëŠ˜ì€ ì–´ì œ ì£½ì€ ì‚¬ëŒì´ ê¸°ë‹¤ë¦¬ë˜ ë‚´ì¼ì…ë‹ˆë‹¤.",
                    "ì¸ìƒì€ í­í’ì´ ì§€ë‚˜ê°€ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë¹„ ì†ì—ì„œ ì¶¤ì¶”ëŠ” ë²•ì„ ë°°ìš°ëŠ” ê²ƒì…ë‹ˆë‹¤.",
                    "ì§€ê¸ˆì˜ ë…¸ë ¥ì€ ë¯¸ë˜ì˜ ìì‹ ê°ì…ë‹ˆë‹¤.",
                    "ì„¸ìƒì´ ê³ í†µìœ¼ë¡œ ë‚˜ì—ê²Œ í‚¤ìŠ¤ë¥¼ í–ˆì§€ë§Œ, ë‚˜ëŠ” ë…¸ë˜ë¡œ ëŒ€ë‹µí–ˆìŠµë‹ˆë‹¤.",
                    "ì‚°ì—ëŠ” ì •ìƒì´ ìˆê³ , ë°”ë‹¤ì—ëŠ” ì–¸ë•ì´ ìˆìœ¼ë©°, ê¸´ ì—¬ì •ì€ ê²°êµ­ ëŒì•„ì˜µë‹ˆë‹¤.",
                    "ë³„ë“¤ì€ ì—¬í–‰ìë¥¼ ë¬»ì§€ ì•Šê³ , ì‹œê°„ì€ ë§ˆìŒì„ ì“°ëŠ” ì‚¬ëŒì„ ì‹¤ë§ì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.",
                    "í–‰ìš´ì´ ìˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ì—†ë‹¤ë©´, ë¶ˆìš´ ì†ì—ì„œ ìë¹„ë¥¼ ë°°ìš°ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.",
                    "ì¸ìƒì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ì„œ ìˆëŠ” ìœ„ì¹˜ê°€ ì•„ë‹ˆë¼ í–¥í•˜ëŠ” ë°©í–¥ì…ë‹ˆë‹¤."
                ],
                'ja': [
                    "ä»Šæ—¥ã¯æ˜¨æ—¥æ­»ã‚“ã äººãŒæœŸå¾…ã—ã¦ã„ãŸæ˜æ—¥ã§ã™ã€‚",
                    "äººç”Ÿã¯åµãŒéãå»ã‚‹ã®ã‚’å¾…ã¤ã“ã¨ã§ã¯ãªãã€é›¨ã®ä¸­ã§è¸Šã‚‹ã“ã¨ã‚’å­¦ã¶ã“ã¨ã§ã™ã€‚",
                    "ä»Šã®åŠªåŠ›ã¯ã€ã‚ãªãŸã®æœªæ¥ã®è‡ªä¿¡ã§ã™ã€‚",
                    "ä¸–ç•Œã¯ç—›ã¿ã§ç§ã«ã‚­ã‚¹ã‚’ã—ã¾ã—ãŸãŒã€ç§ã¯æ­Œã§è¿”ã—ã¾ã—ãŸã€‚",
                    "å±±ã«ã¯é ‚ãŒã‚ã‚Šã€æµ·ã«ã¯å²¸ãŒã‚ã‚Šã€é•·ã„æ—…è·¯ã¯æœ€çµ‚çš„ã«å›ã£ã¦ãã¾ã™ã€‚",
                    "æ˜Ÿã¯æ—…äººã«å°‹ã­ãšã€æ™‚é–“ã¯å¿ƒã‚’é…ã‚‹äººã‚’å¤±æœ›ã•ã›ã¾ã›ã‚“ã€‚",
                    "å¹¸é‹ãŒã‚ã‚Šã¾ã™ã‚ˆã†ã«ã€‚ãªã‘ã‚Œã°ã€ä¸å¹¸ã®ä¸­ã§æ…ˆæ‚²ã‚’å­¦ã³ã¾ã™ã‚ˆã†ã«ã€‚",
                    "äººç”Ÿã§æœ€ã‚‚é‡è¦ãªã®ã¯ç«‹ã£ã¦ã„ã‚‹å ´æ‰€ã§ã¯ãªãã€å‘ã„ã¦ã„ã‚‹æ–¹å‘ã§ã™ã€‚"
                ]
            };

            // å½“å‰è¯­è¨€
            let currentLang = localStorage.getItem('lang') || 'zh-CN';
            let currentSection = 'quote';
            let timerInterval;
            let timerMinutes = 25;
            let timerSeconds = 0;
            let isTimerRunning = false;
            let bubbleScore = 0;

            // åˆå§‹åŒ–
            function init() {
                updateLanguage();
                updateActiveLanguage(currentLang);
                loadInitialQuote();
                initBubbleGame();
                initSandCanvas();
            }

            // è¯­è¨€åˆ‡æ¢åŠŸèƒ½
            const languageBtn = document.getElementById('languageBtn');
            const languageDropdown = document.getElementById('languageDropdown');
            
            if (languageBtn) {
                languageBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    languageDropdown.classList.toggle('show');
                });
            }

            // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­è¯­è¨€ä¸‹æ‹‰èœå•
            document.addEventListener('click', function() {
                if (languageDropdown) {
                    languageDropdown.classList.remove('show');
                }
            });

            // è¯­è¨€é€‰é¡¹ç‚¹å‡»äº‹ä»¶
            const languageOptions = document.querySelectorAll('.language-option');
            languageOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const lang = this.dataset.lang;
                    if (lang && translations[lang]) {
                        currentLang = lang;
                        localStorage.setItem('lang', lang);
                        updateLanguage();
                        updateActiveLanguage(lang);
                        languageDropdown.classList.remove('show');
                    }
                });
            });

            // æ›´æ–°è¯­è¨€æ˜¾ç¤º
            function updateLanguage() {
                const elements = document.querySelectorAll('[data-translate]');
                elements.forEach(element => {
                    const key = element.dataset.translate;
                    if (translations[currentLang] && translations[currentLang][key]) {
                        element.textContent = translations[currentLang][key];
                    }
                });
                
                // æ›´æ–°è¯­è¨€æŒ‰é’®æ˜¾ç¤º
                if (languageBtn) {
                    const flagSpan = languageBtn.querySelector('.flag');
                    const langSpan = languageBtn.querySelector('[data-translate="currentLang"]');
                    if (flagSpan && langSpan) {
                        flagSpan.className = `flag flag-${currentLang === 'zh-CN' ? 'cn' : currentLang === 'zh-TW' ? 'tw' : currentLang}`;
                        langSpan.textContent = translations[currentLang].currentLang;
                    }
                }
            }

            // æ›´æ–°æ´»è·ƒè¯­è¨€æ ‡è®°
            function updateActiveLanguage(lang) {
                languageOptions.forEach(option => {
                    option.classList.remove('active');
                    if (option.dataset.lang === lang) {
                        option.classList.add('active');
                    }
                });
            }

            // å¯¼èˆªæŒ‰é’®åŠŸèƒ½
            const navBtns = document.querySelectorAll('.nav-btn');
            const sections = document.querySelectorAll('.section');

            navBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const sectionName = this.dataset.section;
                    
                    // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
                    navBtns.forEach(b => b.classList.remove('active'));
                    // æ·»åŠ activeç±»åˆ°å½“å‰æŒ‰é’®
                    this.classList.add('active');
                    
                    // éšè—æ‰€æœ‰section
                    sections.forEach(section => section.classList.remove('active'));
                    // æ˜¾ç¤ºç›®æ ‡section
                    const targetSection = document.getElementById(sectionName);
                    if (targetSection) {
                        targetSection.classList.add('active');
                        currentSection = sectionName;
                    }
                });
            });

            // åŠ è½½åˆå§‹è¯­å½•
            function loadInitialQuote() {
                if (quoteText) {
                    const currentQuotes = quotes[currentLang] || quotes['zh-CN'];
                    const randomIndex = Math.floor(Math.random() * currentQuotes.length);
                    quoteText.textContent = currentQuotes[randomIndex];
                }
            }

            // è¯­å½•åŠŸèƒ½
            const newQuoteBtn = document.getElementById('newQuoteBtn');
            const quoteText = document.getElementById('quoteText');

            if (newQuoteBtn) {
                newQuoteBtn.addEventListener('click', function() {
                    const currentQuotes = quotes[currentLang] || quotes['zh-CN'];
                    const randomIndex = Math.floor(Math.random() * currentQuotes.length);
                    const newQuote = currentQuotes[randomIndex];
                    
                    if (quoteText) {
                        quoteText.style.opacity = '0';
                        setTimeout(() => {
                            quoteText.textContent = newQuote;
                            quoteText.style.opacity = '1';
                        }, 300);
                    }
                });
            }

            // å®šæ—¶å™¨åŠŸèƒ½
            const startTimerBtn = document.getElementById('startTimer');
            const pauseTimerBtn = document.getElementById('pauseTimer');
            const resetTimerBtn = document.getElementById('resetTimer');
            const timerDisplay = document.getElementById('timerDisplay');

            function updateTimerDisplay() {
                const minutes = String(timerMinutes).padStart(2, '0');
                const seconds = String(timerSeconds).padStart(2, '0');
                if (timerDisplay) {
                    timerDisplay.textContent = `${minutes}:${seconds}`;
                }
            }

            function startTimer() {
                if (!isTimerRunning) {
                    isTimerRunning = true;
                    timerInterval = setInterval(() => {
                        if (timerSeconds === 0) {
                            if (timerMinutes === 0) {
                                // è®¡æ—¶ç»“æŸ
                                clearInterval(timerInterval);
                                isTimerRunning = false;
                                alert(currentLang === 'zh-CN' ? 'æ—¶é—´åˆ°ï¼' : 'Time\'s up!');
                                return;
                            }
                            timerMinutes--;
                            timerSeconds = 59;
                        } else {
                            timerSeconds--;
                        }
                        updateTimerDisplay();
                    }, 1000);
                }
            }

            function pauseTimer() {
                if (isTimerRunning) {
                    clearInterval(timerInterval);
                    isTimerRunning = false;
                }
            }

            function resetTimer() {
                clearInterval(timerInterval);
                isTimerRunning = false;
                timerMinutes = 25;
                timerSeconds = 0;
                updateTimerDisplay();
            }

            if (startTimerBtn) {
                startTimerBtn.addEventListener('click', startTimer);
            }
            if (pauseTimerBtn) {
                pauseTimerBtn.addEventListener('click', pauseTimer);
            }
            if (resetTimerBtn) {
                resetTimerBtn.addEventListener('click', resetTimer);
            }

            // å¡”ç½—ç‰ŒåŠŸèƒ½
            const tarotBtn = document.getElementById('tarotBtn');
            const tarotCards = [
                'æ„šè€… - æ–°çš„å¼€å§‹å’Œå†’é™©',
                'é­”æœ¯å¸ˆ - åˆ›é€ åŠ›å’Œæ„å¿—åŠ›',
                'å¥³ç¥­å¸ - ç›´è§‰å’Œå†…åœ¨æ™ºæ…§',
                'çš‡å - ä¸°é¥¶å’Œæ¯æ€§èƒ½é‡',
                'çš‡å¸ - æƒå¨å’Œç¨³å®š',
                'æ•™çš‡ - ä¼ ç»Ÿå’Œç²¾ç¥æŒ‡å¯¼',
                'æ‹äºº - é€‰æ‹©å’Œå…³ç³»',
                'æˆ˜è½¦ - æ„å¿—åŠ›å’Œæ§åˆ¶',
                'åŠ›é‡ - å†…åœ¨åŠ›é‡å’Œå‹‡æ°”',
                'éšè€… - å†…çœå’Œå¯»æ±‚çœŸç†',
                'å‘½è¿ä¹‹è½® - å˜åŒ–å’Œå‘½è¿',
                'æ­£ä¹‰ - å¹³è¡¡å’Œå…¬æ­£'
            ];

            if (tarotBtn) {
                tarotBtn.addEventListener('click', function() {
                    const randomCard = tarotCards[Math.floor(Math.random() * tarotCards.length)];
                    const resultElement = this.parentElement.querySelector('.mystic-result');
                    if (resultElement) {
                        resultElement.style.display = 'block';
                        resultElement.style.opacity = '0';
                        setTimeout(() => {
                            resultElement.textContent = randomCard;
                            resultElement.style.opacity = '1';
                        }, 300);
                    }
                });
            }

            // å¹¸è¿é¥¼å¹²åŠŸèƒ½
            const fortuneBtn = document.getElementById('fortuneBtn');
            const fortunes = [
                'ä»Šå¤©ä¼šæœ‰å¥½è¿é™ä¸´',
                'ä¿æŒå¾®ç¬‘ï¼Œå¥½äº‹å³å°†å‘ç”Ÿ',
                'ä½ çš„åŠªåŠ›ç»ˆå°†å¾—åˆ°å›æŠ¥',
                'ç›¸ä¿¡è‡ªå·±ï¼Œä½ æ¯”æƒ³è±¡ä¸­æ›´å¼ºå¤§',
                'æ¯ä¸€ä¸ªæŒ‘æˆ˜éƒ½æ˜¯æˆé•¿çš„æœºä¼š',
                'ä¿æŒè€å¿ƒï¼Œæœ€å¥½çš„è¿˜åœ¨åé¢'
            ];

            if (fortuneBtn) {
                fortuneBtn.addEventListener('click', function() {
                    const randomFortune = fortunes[Math.floor(Math.random() * fortunes.length)];
                    const resultElement = this.parentElement.querySelector('.mystic-result');
                    if (resultElement) {
                        resultElement.style.display = 'block';
                        resultElement.style.opacity = '0';
                        setTimeout(() => {
                            resultElement.textContent = randomFortune;
                            resultElement.style.opacity = '1';
                        }, 300);
                    }
                });
            }

            // æ˜Ÿåº§è¿åŠ¿åŠŸèƒ½
            const astrologyBtn = document.getElementById('astrologyBtn');
            const astrologyTips = [
                'ç™½ç¾Šåº§ï¼šä»Šå¤©é€‚åˆå°è¯•æ–°äº‹ç‰©',
                'é‡‘ç‰›åº§ï¼šä¿æŒç¨³å®šï¼Œé¿å…å†²åŠ¨',
                'åŒå­åº§ï¼šæ²Ÿé€šèƒ½åŠ›å¢å¼º',
                'å·¨èŸ¹åº§ï¼šå®¶åº­å…³ç³»å’Œè°',
                'ç‹®å­åº§ï¼šé¢†å¯¼æ‰èƒ½å¾—åˆ°è®¤å¯',
                'å¤„å¥³åº§ï¼šç»†èŠ‚å¤„ç†èƒ½åŠ›æå‡',
                'å¤©ç§¤åº§ï¼šäººé™…å…³ç³»æ”¹å–„',
                'å¤©èåº§ï¼šç›´è§‰æ•é”',
                'å°„æ‰‹åº§ï¼šå†’é™©ç²¾ç¥æ—ºç››',
                'æ‘©ç¾¯åº§ï¼šå·¥ä½œè¿›å±•é¡ºåˆ©',
                'æ°´ç“¶åº§ï¼šåˆ›æ„çµæ„Ÿä¸°å¯Œ',
                'åŒé±¼åº§ï¼šè‰ºæœ¯å¤©èµ‹æ˜¾ç°'
            ];

            if (astrologyBtn) {
                astrologyBtn.addEventListener('click', function() {
                    const randomTip = astrologyTips[Math.floor(Math.random() * astrologyTips.length)];
                    const resultElement = this.parentElement.querySelector('.mystic-result');
                    if (resultElement) {
                        resultElement.style.display = 'block';
                        resultElement.style.opacity = '0';
                        setTimeout(() => {
                            resultElement.textContent = randomTip;
                            resultElement.style.opacity = '1';
                        }, 300);
                    }
                });
            }

            // æ³¡æ³¡æ¸¸æˆ
            function initBubbleGame() {
                const bubbleGame = document.querySelector('.bubble-game');
                if (!bubbleGame) return;

                function createBubble() {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble';
                    
                    const size = Math.random() * 50 + 20;
                    bubble.style.width = size + 'px';
                    bubble.style.height = size + 'px';
                    bubble.style.left = Math.random() * (bubbleGame.offsetWidth - size) + 'px';
                    bubble.style.top = bubbleGame.offsetHeight + 'px';
                    
                    bubble.addEventListener('click', function() {
                        this.remove();
                        bubbleScore++;
                        const scoreElement = document.getElementById('bubbleScore');
                        if (scoreElement) {
                            scoreElement.textContent = bubbleScore;
                        }
                    });
                    
                    bubbleGame.appendChild(bubble);
                    
                    // è®©æ³¡æ³¡å‘ä¸Šç§»åŠ¨
                    let position = bubbleGame.offsetHeight;
                    const moveUp = setInterval(() => {
                        position -= 2;
                        bubble.style.top = position + 'px';
                        
                        if (position < -size) {
                            bubble.remove();
                            clearInterval(moveUp);
                        }
                    }, 50);
                }

                // å®šæœŸåˆ›å»ºæ–°æ³¡æ³¡
                setInterval(createBubble, 1000);
            }

            // æ²™ç”»æ¸¸æˆ
            function initSandCanvas() {
                const canvas = document.querySelector('.sand-canvas');
                if (!canvas || canvas.tagName !== 'CANVAS') return;
                
                const ctx = canvas.getContext('2d');
                let isDrawing = false;
                
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
                
                ctx.fillStyle = '#f7fafc';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                canvas.addEventListener('mousedown', startDrawing);
                canvas.addEventListener('mousemove', draw);
                canvas.addEventListener('mouseup', stopDrawing);
                canvas.addEventListener('mouseout', stopDrawing);
                
                function startDrawing(e) {
                    isDrawing = true;
                    draw(e);
                }
                
                function draw(e) {
                    if (!isDrawing) return;
                    
                    const rect = canvas.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    ctx.globalCompositeOperation = 'source-over';
                    ctx.fillStyle = '#667eea';
                    ctx.beginPath();
                    ctx.arc(x, y, 3, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                function stopDrawing() {
                    isDrawing = false;
                }
            }

            // å¿ƒç†æµ‹è¯•åŠŸèƒ½
            const moodCheckBtn = document.querySelector('.mood-check-btn');
            if (moodCheckBtn) {
                moodCheckBtn.addEventListener('click', function() {
                    const selectedMood = document.querySelector('input[name="mood"]:checked');
                    const resultElement = document.querySelector('.mood-result');
                    
                    if (!selectedMood) {
                        alert(currentLang === 'zh-CN' ? 'è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹ï¼' : 'Please select an option!');
                        return;
                    }
                    
                    const responses = {
                        'zh-CN': {
                            happy: 'å¤ªå¥½äº†ï¼ä¿æŒè¿™ç§ç§¯æçš„å¿ƒæ€ï¼Œä½ æ­£åœ¨å‘å…‰âœ¨',
                            calm: 'å†…å¿ƒå¹³é™æ˜¯ä¸€ç§çè´µçš„çŠ¶æ€ï¼Œå¥½å¥½çæƒœè¿™ä»½å®é™ğŸŒ¸',
                            anxious: 'ç„¦è™‘æ˜¯æ­£å¸¸çš„æƒ…ç»ªï¼Œè¯•è¯•æ·±å‘¼å¸ï¼Œä¸€åˆ‡éƒ½ä¼šå¥½èµ·æ¥çš„ğŸŒˆ',
                            sad: 'éš¾è¿‡çš„æ—¶å€™å…è®¸è‡ªå·±å“­æ³£ï¼Œè¿™ä¹Ÿæ˜¯æ²»æ„ˆçš„ä¸€éƒ¨åˆ†ğŸ’™',
                            tired: 'ä¼‘æ¯æ˜¯ä¸ºäº†èµ°æ›´è¿œçš„è·¯ï¼Œç»™è‡ªå·±ä¸€äº›æ—¶é—´æ¢å¤èƒ½é‡ğŸŒ™'
                        },
                        'en': {
                            happy: 'Wonderful! Keep this positive attitude, you are shiningâœ¨',
                            calm: 'Inner peace is a precious state, cherish this tranquilityğŸŒ¸',
                            anxious: 'Anxiety is normal, try deep breathing, everything will be fineğŸŒˆ',
                            sad: 'It\'s okay to cry when sad, this is also part of healingğŸ’™',
                            tired: 'Rest is for going further, give yourself time to recoverğŸŒ™'
                        }
                    };
                    
                    const mood = selectedMood.value;
                    const response = responses[currentLang] && responses[currentLang][mood] 
                                   ? responses[currentLang][mood] 
                                   : responses['zh-CN'][mood];
                    
                    if (resultElement) {
                        resultElement.style.display = 'block';
                        resultElement.style.opacity = '0';
                        setTimeout(() => {
                            resultElement.textContent = response;
                            resultElement.style.opacity = '1';
                        }, 300);
                    }
                });
            }

            // æ—¥è®°åŠŸèƒ½
            let journalEntries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            
            const journalTextarea = document.querySelector('.journal-textarea');
            const saveJournalBtn = document.querySelector('.journal-btn:first-child');
            const showEntriesBtn = document.querySelector('.journal-btn:nth-child(2)');
            const clearJournalBtn = document.querySelector('.journal-btn:last-child');
            const journalEntriesDiv = document.querySelector('.journal-entries');
            
            if (saveJournalBtn) {
                saveJournalBtn.addEventListener('click', function() {
                    if (!journalTextarea || !journalTextarea.value.trim()) {
                        alert(currentLang === 'zh-CN' ? 'è¯·å†™ç‚¹ä»€ä¹ˆå†ä¿å­˜ï¼' : 'Please write something before saving!');
                        return;
                    }
                    
                    const entry = {
                        date: new Date().toLocaleDateString(),
                        text: journalTextarea.value.trim()
                    };
                    
                    journalEntries.unshift(entry);
                    localStorage.setItem('journalEntries', JSON.stringify(journalEntries));
                    journalTextarea.value = '';
                    
                    alert(currentLang === 'zh-CN' ? 'æ—¥è®°ä¿å­˜æˆåŠŸï¼' : 'Journal saved successfully!');
                });
            }
            
            if (showEntriesBtn) {
                showEntriesBtn.addEventListener('click', function() {
                    if (!journalEntriesDiv) return;
                    
                    if (journalEntriesDiv.style.display === 'none' || !journalEntriesDiv.style.display) {
                        displayJournalEntries();
                        journalEntriesDiv.style.display = 'block';
                        this.textContent = currentLang === 'zh-CN' ? 'éšè—è®°å½•' : 'Hide Entries';
                    } else {
                        journalEntriesDiv.style.display = 'none';
                        this.textContent = currentLang === 'zh-CN' ? 'æŸ¥çœ‹è®°å½•' : 'View Entries';
                    }
                });
            }

            if (clearJournalBtn) {
                clearJournalBtn.addEventListener('click', function() {
                    if (confirm(currentLang === 'zh-CN' ? 'ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ—¥è®°å—ï¼Ÿ' : 'Are you sure you want to clear all journal entries?')) {
                        journalEntries = [];
                        localStorage.setItem('journalEntries', JSON.stringify(journalEntries));
                        journalEntriesDiv.innerHTML = '';
                        journalEntriesDiv.style.display = 'none';
                        showEntriesBtn.textContent = currentLang === 'zh-CN' ? 'æŸ¥çœ‹è®°å½•' : 'View Entries';
                    }
                });
            }
            
            function displayJournalEntries() {
                if (!journalEntriesDiv) return;
                
                journalEntriesDiv.innerHTML = '';
                
                if (journalEntries.length === 0) {
                    journalEntriesDiv.innerHTML = `<p>${currentLang === 'zh-CN' ? 'è¿˜æ²¡æœ‰æ—¥è®°è®°å½•' : 'No journal entries yet'}</p>`;
                    return;
                }
                
                journalEntries.forEach(entry => {
                    const entryDiv = document.createElement('div');
                    entryDiv.className = 'journal-entry';
                    entryDiv.innerHTML = `
                        <div class="entry-date">${entry.date}</div>
                        <div class="entry-text">${entry.text}</div>
                    `;
                    journalEntriesDiv.appendChild(entryDiv);
                });
            }

            // è‡ªç„¶éŸ³æ•ˆåŠŸèƒ½
            const soundToggles = document.querySelectorAll('.sound-toggle');
            const audioElements = new Map();
            
            // åˆ›å»ºéŸ³é¢‘å…ƒç´ ï¼ˆè¿™é‡Œä½¿ç”¨å ä½ç¬¦ï¼Œå®é™…éœ€è¦çœŸå®çš„éŸ³é¢‘æ–‡ä»¶ï¼‰
            const soundFiles = {
                rain: 'data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAkUXrTp66hVFApGn+D1wWwiBzvS3/LCcCUFjOY=',
                ocean: 'data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAkUXrTp66hVFApGn+D1wWwiBzvS3/LCcCUFjOY=',
                forest: 'data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAkUXrTp66hVFApGn+D1wWwiBzvS3/LCcCUFjOY=',
                birds: 'data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAkUXrTp66hVFApGn+D1wWwiBzvS3/LCcCUFjOY='
            };
            
            soundToggles.forEach(toggle => {
                toggle.addEventListener('click', function() {
                    const soundName = this.dataset.sound;
                    
                    if (this.classList.contains('playing')) {
                        // åœæ­¢æ’­æ”¾
                        const audio = audioElements.get(soundName);
                        if (audio) {
                            audio.pause();
                            audio.currentTime = 0;
                        }
                        this.classList.remove('playing');
                        this.textContent = currentLang === 'zh-CN' ? 'æ’­æ”¾' : 'Play';
                    } else {
                        // å¼€å§‹æ’­æ”¾
                        let audio = audioElements.get(soundName);
                        if (!audio) {
                            audio = new Audio(soundFiles[soundName] || soundFiles.rain);
                            audio.loop = true;
                            audioElements.set(soundName, audio);
                        }
                        
                        audio.play().catch(e => {
                            console.log('Audio play failed:', e);
                            alert(currentLang === 'zh-CN' ? 'éŸ³é¢‘æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®' : 'Audio play failed, please check browser settings');
                        });
                        
                        this.classList.add('playing');
                        this.textContent = currentLang === 'zh-CN' ? 'åœæ­¢' : 'Stop';
                    }
                });
            });

            // éŸ³é‡æ§åˆ¶
            const volumeSliders = document.querySelectorAll('.volume-slider');
            volumeSliders.forEach(slider => {
                slider.addEventListener('input', function() {
                    const soundName = this.dataset.sound;
                    const audio = audioElements.get(soundName);
                    if (audio) {
                        audio.volume = this.value / 100;
                    }
                });
            });

            // å‘¼å¸ç»ƒä¹ åŠ¨ç”»æ§åˆ¶
            const breathingText = document.getElementById('breathingText');
            let breathingPhase = 0; // 0: å¸æ°”, 1: å±æ¯, 2: å‘¼æ°”, 3: æš‚åœ
            const breathingTexts = {
                'zh-CN': ['å¸æ°” (4ç§’)', 'å±æ¯ (7ç§’)', 'å‘¼æ°” (8ç§’)', 'å‡†å¤‡...'],
                'en': ['Breathe In (4s)', 'Hold (7s)', 'Breathe Out (8s)', 'Prepare...']
            };
            const breathingDurations = [4000, 7000, 8000, 1000]; // 4-7-8å‘¼å¸æ³•

            function updateBreathingText() {
                if (breathingText && currentSection === 'breathing') {
                    const texts = breathingTexts[currentLang] || breathingTexts['zh-CN'];
                    breathingText.textContent = texts[breathingPhase];
                    
                    setTimeout(() => {
                        breathingPhase = (breathingPhase + 1) % 4;
                        updateBreathingText();
                    }, breathingDurations[breathingPhase]);
                }
            }

            // å½“åˆ‡æ¢åˆ°å‘¼å¸ç»ƒä¹ é¡µé¢æ—¶å¼€å§‹åŠ¨ç”»
            navBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    if (this.dataset.section === 'breathing') {
                        setTimeout(updateBreathingText, 500);
                    }
                });
            });

            // åˆå§‹åŒ–
            init();
            
            console.log('æ•°å­—åœ£æ‰€åˆå§‹åŒ–å®Œæˆï¼');
        });
    </script>
</body>
</html> 